#include<cstdio>
#include<cstdlib>
#include"pch.h"
#include<GL/glut.h>

using namespace std;

void bresenhamLine(int x0, int y0, int x1, int y1){
	int x = x0, dx = x1 - x0, y = y0, dy = y1 - y0;
	float k = (float)dy /dx, e = -0.5;	//k:记录斜率	e来判断位置(以中点为零点）
	for (; x < x1; x++){
		glVertex2i(x, y);	//画点
		e += k;	//x每移动一个单位,位置就要上升k个单位
		if (e >= 0) { ++y; --e; }	//当超过中点的时候，选择向上移动一个单位画点
	}
}

void display(){
	//glClearColor(0.0, 1.0, 1.0, 0.0);//白色背景
	//glClear(GL_COLOR_BUFFER_BIT);//填充背景色
	glColor3f(0.0, 1.0, 1.0);//蓝绿色笔画
	glPointSize(5.0f);//笔画粗细5
	glBegin(GL_POINTS);//开始绘制
	bresenhamLine(000, 250, 500, 250);//k=0
	//bresenhamLine(000, 000, 500, 250);//k=0.5
	glEnd();//结束绘制
	glFlush();
}

int main(int argc, char **argv){
	glutInit(&argc, argv);
	glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);
	glutInitWindowPosition(200, 200);
	glutInitWindowSize(500, 500);
	glutCreateWindow(argv[0]);
	glutDisplayFunc(display);
	gluOrtho2D(0.0, 500.0, 0.0, 500.0);
	glutMainLoop();
	return 0;
}
